# Test Environment Configuration
# ================================
#
# Tests automatically use the best available database:
# 1. Local PostgreSQL (Docker) - Fast, consistent, recommended
# 2. Neon (fallback) - May have eventual consistency delays
#
# For most users, no configuration is needed - just run:
#   npm run db:start      # Start Docker PostgreSQL
#   npm run db:push:local # Push schema
#   npm test              # Run tests

# ================================
# OPTION 1: Local PostgreSQL (Recommended)
# ================================
# If using Docker, the test script auto-detects and uses these defaults:
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/myrecipekitchen_test
# USE_LOCAL_DB=true
#
# Setup:
#   npm run db:start
#   npm run db:push:local

# ================================
# OPTION 2: Neon Serverless (Fallback)
# ================================
# If Docker is not available, copy this file to .env.test and set your Neon URL:
# DATABASE_URL=postgresql://user:password@your-neon-host.neon.tech/neondb?sslmode=require
#
# Note: Neon tests may experience "eventual consistency" delays and require
# longer timeouts. The test script automatically adjusts for this.

# ================================
# Common Settings
# ================================

# Session Secret (auto-configured in tests, but can be overridden)
SESSION_SECRET=test-session-secret-for-testing-only

# Node Environment (auto-configured in tests)
NODE_ENV=test

# Optional: Replit Object Storage (only needed for storage integration tests)
# REPLIT_DB_URL=your-replit-object-storage-url
